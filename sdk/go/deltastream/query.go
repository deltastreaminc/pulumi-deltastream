// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package deltastream

import (
	"context"
	"reflect"

	"errors"
	"github.com/deltastreaminc/pulumi-deltastream/sdk/go/deltastream/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Query resource
type Query struct {
	pulumi.CustomResourceState

	// Creation date of the query
	CreatedAt pulumi.StringOutput `pulumi:"createdAt"`
	// Owning role of the query
	Owner pulumi.StringOutput `pulumi:"owner"`
	// Query ID
	QueryId pulumi.StringOutput `pulumi:"queryId"`
	// Query Name
	QueryName pulumi.StringOutput `pulumi:"queryName"`
	// Query version
	QueryVersion pulumi.IntOutput `pulumi:"queryVersion"`
	// Fully qualified sink relation name
	SinkRelationFqn pulumi.StringOutput `pulumi:"sinkRelationFqn"`
	// List of fully qualified source relation names
	SourceRelationFqns pulumi.StringArrayOutput `pulumi:"sourceRelationFqns"`
	// SQL statement to create the relation
	Sql pulumi.StringOutput `pulumi:"sql"`
	// State of the Relation
	State pulumi.StringOutput `pulumi:"state"`
	// Creation date of the query
	UpdatedAt pulumi.StringOutput `pulumi:"updatedAt"`
}

// NewQuery registers a new resource with the given unique name, arguments, and options.
func NewQuery(ctx *pulumi.Context,
	name string, args *QueryArgs, opts ...pulumi.ResourceOption) (*Query, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.SinkRelationFqn == nil {
		return nil, errors.New("invalid value for required argument 'SinkRelationFqn'")
	}
	if args.SourceRelationFqns == nil {
		return nil, errors.New("invalid value for required argument 'SourceRelationFqns'")
	}
	if args.Sql == nil {
		return nil, errors.New("invalid value for required argument 'Sql'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource Query
	err := ctx.RegisterResource("deltastream:index/query:Query", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetQuery gets an existing Query resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetQuery(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *QueryState, opts ...pulumi.ResourceOption) (*Query, error) {
	var resource Query
	err := ctx.ReadResource("deltastream:index/query:Query", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering Query resources.
type queryState struct {
	// Creation date of the query
	CreatedAt *string `pulumi:"createdAt"`
	// Owning role of the query
	Owner *string `pulumi:"owner"`
	// Query ID
	QueryId *string `pulumi:"queryId"`
	// Query Name
	QueryName *string `pulumi:"queryName"`
	// Query version
	QueryVersion *int `pulumi:"queryVersion"`
	// Fully qualified sink relation name
	SinkRelationFqn *string `pulumi:"sinkRelationFqn"`
	// List of fully qualified source relation names
	SourceRelationFqns []string `pulumi:"sourceRelationFqns"`
	// SQL statement to create the relation
	Sql *string `pulumi:"sql"`
	// State of the Relation
	State *string `pulumi:"state"`
	// Creation date of the query
	UpdatedAt *string `pulumi:"updatedAt"`
}

type QueryState struct {
	// Creation date of the query
	CreatedAt pulumi.StringPtrInput
	// Owning role of the query
	Owner pulumi.StringPtrInput
	// Query ID
	QueryId pulumi.StringPtrInput
	// Query Name
	QueryName pulumi.StringPtrInput
	// Query version
	QueryVersion pulumi.IntPtrInput
	// Fully qualified sink relation name
	SinkRelationFqn pulumi.StringPtrInput
	// List of fully qualified source relation names
	SourceRelationFqns pulumi.StringArrayInput
	// SQL statement to create the relation
	Sql pulumi.StringPtrInput
	// State of the Relation
	State pulumi.StringPtrInput
	// Creation date of the query
	UpdatedAt pulumi.StringPtrInput
}

func (QueryState) ElementType() reflect.Type {
	return reflect.TypeOf((*queryState)(nil)).Elem()
}

type queryArgs struct {
	// Owning role of the query
	Owner *string `pulumi:"owner"`
	// Fully qualified sink relation name
	SinkRelationFqn string `pulumi:"sinkRelationFqn"`
	// List of fully qualified source relation names
	SourceRelationFqns []string `pulumi:"sourceRelationFqns"`
	// SQL statement to create the relation
	Sql string `pulumi:"sql"`
}

// The set of arguments for constructing a Query resource.
type QueryArgs struct {
	// Owning role of the query
	Owner pulumi.StringPtrInput
	// Fully qualified sink relation name
	SinkRelationFqn pulumi.StringInput
	// List of fully qualified source relation names
	SourceRelationFqns pulumi.StringArrayInput
	// SQL statement to create the relation
	Sql pulumi.StringInput
}

func (QueryArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*queryArgs)(nil)).Elem()
}

type QueryInput interface {
	pulumi.Input

	ToQueryOutput() QueryOutput
	ToQueryOutputWithContext(ctx context.Context) QueryOutput
}

func (*Query) ElementType() reflect.Type {
	return reflect.TypeOf((**Query)(nil)).Elem()
}

func (i *Query) ToQueryOutput() QueryOutput {
	return i.ToQueryOutputWithContext(context.Background())
}

func (i *Query) ToQueryOutputWithContext(ctx context.Context) QueryOutput {
	return pulumi.ToOutputWithContext(ctx, i).(QueryOutput)
}

// QueryArrayInput is an input type that accepts QueryArray and QueryArrayOutput values.
// You can construct a concrete instance of `QueryArrayInput` via:
//
//	QueryArray{ QueryArgs{...} }
type QueryArrayInput interface {
	pulumi.Input

	ToQueryArrayOutput() QueryArrayOutput
	ToQueryArrayOutputWithContext(context.Context) QueryArrayOutput
}

type QueryArray []QueryInput

func (QueryArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*Query)(nil)).Elem()
}

func (i QueryArray) ToQueryArrayOutput() QueryArrayOutput {
	return i.ToQueryArrayOutputWithContext(context.Background())
}

func (i QueryArray) ToQueryArrayOutputWithContext(ctx context.Context) QueryArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(QueryArrayOutput)
}

// QueryMapInput is an input type that accepts QueryMap and QueryMapOutput values.
// You can construct a concrete instance of `QueryMapInput` via:
//
//	QueryMap{ "key": QueryArgs{...} }
type QueryMapInput interface {
	pulumi.Input

	ToQueryMapOutput() QueryMapOutput
	ToQueryMapOutputWithContext(context.Context) QueryMapOutput
}

type QueryMap map[string]QueryInput

func (QueryMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*Query)(nil)).Elem()
}

func (i QueryMap) ToQueryMapOutput() QueryMapOutput {
	return i.ToQueryMapOutputWithContext(context.Background())
}

func (i QueryMap) ToQueryMapOutputWithContext(ctx context.Context) QueryMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(QueryMapOutput)
}

type QueryOutput struct{ *pulumi.OutputState }

func (QueryOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**Query)(nil)).Elem()
}

func (o QueryOutput) ToQueryOutput() QueryOutput {
	return o
}

func (o QueryOutput) ToQueryOutputWithContext(ctx context.Context) QueryOutput {
	return o
}

// Creation date of the query
func (o QueryOutput) CreatedAt() pulumi.StringOutput {
	return o.ApplyT(func(v *Query) pulumi.StringOutput { return v.CreatedAt }).(pulumi.StringOutput)
}

// Owning role of the query
func (o QueryOutput) Owner() pulumi.StringOutput {
	return o.ApplyT(func(v *Query) pulumi.StringOutput { return v.Owner }).(pulumi.StringOutput)
}

// Query ID
func (o QueryOutput) QueryId() pulumi.StringOutput {
	return o.ApplyT(func(v *Query) pulumi.StringOutput { return v.QueryId }).(pulumi.StringOutput)
}

// Query Name
func (o QueryOutput) QueryName() pulumi.StringOutput {
	return o.ApplyT(func(v *Query) pulumi.StringOutput { return v.QueryName }).(pulumi.StringOutput)
}

// Query version
func (o QueryOutput) QueryVersion() pulumi.IntOutput {
	return o.ApplyT(func(v *Query) pulumi.IntOutput { return v.QueryVersion }).(pulumi.IntOutput)
}

// Fully qualified sink relation name
func (o QueryOutput) SinkRelationFqn() pulumi.StringOutput {
	return o.ApplyT(func(v *Query) pulumi.StringOutput { return v.SinkRelationFqn }).(pulumi.StringOutput)
}

// List of fully qualified source relation names
func (o QueryOutput) SourceRelationFqns() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *Query) pulumi.StringArrayOutput { return v.SourceRelationFqns }).(pulumi.StringArrayOutput)
}

// SQL statement to create the relation
func (o QueryOutput) Sql() pulumi.StringOutput {
	return o.ApplyT(func(v *Query) pulumi.StringOutput { return v.Sql }).(pulumi.StringOutput)
}

// State of the Relation
func (o QueryOutput) State() pulumi.StringOutput {
	return o.ApplyT(func(v *Query) pulumi.StringOutput { return v.State }).(pulumi.StringOutput)
}

// Creation date of the query
func (o QueryOutput) UpdatedAt() pulumi.StringOutput {
	return o.ApplyT(func(v *Query) pulumi.StringOutput { return v.UpdatedAt }).(pulumi.StringOutput)
}

type QueryArrayOutput struct{ *pulumi.OutputState }

func (QueryArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*Query)(nil)).Elem()
}

func (o QueryArrayOutput) ToQueryArrayOutput() QueryArrayOutput {
	return o
}

func (o QueryArrayOutput) ToQueryArrayOutputWithContext(ctx context.Context) QueryArrayOutput {
	return o
}

func (o QueryArrayOutput) Index(i pulumi.IntInput) QueryOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *Query {
		return vs[0].([]*Query)[vs[1].(int)]
	}).(QueryOutput)
}

type QueryMapOutput struct{ *pulumi.OutputState }

func (QueryMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*Query)(nil)).Elem()
}

func (o QueryMapOutput) ToQueryMapOutput() QueryMapOutput {
	return o
}

func (o QueryMapOutput) ToQueryMapOutputWithContext(ctx context.Context) QueryMapOutput {
	return o
}

func (o QueryMapOutput) MapIndex(k pulumi.StringInput) QueryOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *Query {
		return vs[0].(map[string]*Query)[vs[1].(string)]
	}).(QueryOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*QueryInput)(nil)).Elem(), &Query{})
	pulumi.RegisterInputType(reflect.TypeOf((*QueryArrayInput)(nil)).Elem(), QueryArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*QueryMapInput)(nil)).Elem(), QueryMap{})
	pulumi.RegisterOutputType(QueryOutput{})
	pulumi.RegisterOutputType(QueryArrayOutput{})
	pulumi.RegisterOutputType(QueryMapOutput{})
}
